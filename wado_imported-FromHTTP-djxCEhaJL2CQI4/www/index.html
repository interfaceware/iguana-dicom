<html>

   <head>

      <title></title>

      <script type="text/javascript" language="javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
      <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.11/js/jquery.dataTables.min.js"></script>

      <script src="/wado/www/js/mustache.js"></script>
      <script src="/wado/www/js/interfaceware-utils.js"></script>
      <script src="/wado/www/js/interfaceware-mustache.js"></script>

      <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700' rel='stylesheet' type='text/css'>      
      <link rel="stylesheet" type="text/css" href="/wado/www/css/main.css">

      <script language="javascript">

         $(document).ready(function() {
            updatePage()
         });

      </script>

   </head>

   <body>

      <header>
         <div class="logo">
            <img class="iguana_logo" src="/wado/www/img/Logo-IguanaTools@2x.png"></a>
         </div>
         <div class="tool-title">
             Iguana to ORTHANC PACS Integration
         </div>
      </header>

      <div class="separator">
      </div>

      <!-- placeholder to by replaced by populated template -->
      <div id="outer" class="container"></div>


      <!-- Mustache Templates: -->    
      <script id="main" type="text/template">      
         <div id="outer" class="outer">
         <div class="middle">
         <div class="inner">
             <h1>Configuration for WADO integration example</h1>
         
         <table id="headers-table">
          <tr>
           <th>
            <h2>Iguana to ORTHANC PACS Integration</h2>
            <p>WADO and RESTful API in Iguana to PACS integration</p>
            <p><em>We recommend trying this implementation within a test environment</em></p>                       
           </th>
           <th>
            <div class="schema">
             <img class="iguana_logo" src="/wado/www/img/workflow_schema.png"></a>       
            </div>
           </th>
          </tr>
         </table>
         
         <table id="main-table">
          <tr>
            <th>To set up this example</th>
            <th>Download Files</th>
            <th>Build Environment</th>
            <th>Import Sample Data</th>
          </tr>
            {{#current}} <td>Installed</td> {{/current}}
            {{^current}} <td>Complete three action items using buttons on the right</td><br>{{/current}}               
            {{#download}}<td>Completed</td> {{/download}}
            {{^download}}<td><div id="download"><a href="#" onClick="fetch()">Execute</a></div></td> {{/download}} 
            {{#enviro}}  <td>Completed</td> {{/enviro}} 
            {{^enviro}}  <td><div id="enviro"><a href="#" onClick="enviro()">Execute</a></div></td> {{/enviro}}              
            {{#cstore}}  <td>Completed</td> {{/cstore}} 
            {{^cstore}}  <td><div id="cstore"><a href="#" onClick="cstore()">Execute</a></div></td> {{/cstore}}
          </tr>  
         </table>   
         
         <table id="readme">
          <tr>
           <td>
            <h2>Recommendations</h2>
            <p align="left">
            Once this example has been set up, proceed with steps listed below.<br>
            * Note that <a href="http://localhost:8043" target="_blank"> ORTHANC 1st Explorer</a> shows one sample Patient<br>
            * Note that <a href="http://localhost:8044" target="_blank"> ORTHANC 2nd Explorer</a> shows it has no Patients data<br>
            * <a href="#" id="transLink" target="_blank">Login to Iguana</a>, 
            and focus on the automatically executed in Translator IDE project. Please allow for execution completion<br>
            * Inspect executed Filter script <a href="http://help.interfaceware.com/v6/annotations" target="_blank">Annotations</a> 
            to discover how selected CRUD operations applied on <a href="https://en.wikipedia.org/wiki/DICOM" target="_blank">DICOM</a> resources<br>
            * Refresh and Inspect <a href="http://localhost:8044" target="_blank"> ORTHANC 2nd Explorer</a> to discover that ORTHANC 2nd PACS is having now new Patient. 
            This Patient had its DICOM Tags edited in Iguana and was relayed to ORTHANC 2nd PACS by ORTHANC 1st PACS in response to C-STORE message triggered by Iguana script<br>
            <br>Comments: CRUD is abbreviation to describe the 4 basic operations performed on a resource. Create, Read, Update, Delete.
            <div id="reset"><a href="#" onClick="reset()">Reset this example</a></div>
            
           </td>
          </tr>
         </table>
         
         </div>
         </div>
         </div>
      </script>

      <script id="result" type="text/template">
         <div id="outer" class="outer">
         <div class="middle">
         <div class="inner">         
         {{{message}}}         
         <p class="footer">&#8592; Back to <a href="javascript:updatePage()">Main page</a></p>               
         </div>
         </div>          
         </div>
      </script>  

      <script id="error" type="text/template">            
         <div id="outer" class="outer">
         <div class="middle">
         <div class="inner">         
         <h1>Iguana to ORTHANC PACS Integration</h1>
         {{{message}}}         
         <p class="footer">&#8592; Back to <a href="javascript:updatePage()">Main page</a></p>     
         </div>
         </div>
         </div>
      </script>

   </body>

</html>